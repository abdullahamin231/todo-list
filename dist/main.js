(()=>{"use strict";const t=document.getElementsByClassName("current-project")[0];console.log(t);let e=[],n=[];function o(n){t.innerHTML="",console.log("handle rendering was ran.");for(let u=0;u<e.length;u++){const m=e[u],y=document.createElement("div");y.dataset.index=u,y.id="todoBox";const p=document.createElement("div");p.classList.add("todo-tick");const g=document.createElement("div");g.classList.add("todo-title"),g.textContent=m.title;const b=document.createElement("div");b.classList.add("todo-details");const E=document.createElement("button");E.id="todo-details-btn",E.dataset.index=u,E.onclick=function(t){const e=t.currentTarget.dataset.index;console.log("details was ran"),i(e)},E.textContent="details",b.appendChild(E);const h=document.createElement("div");var o=m.dueDate,r=new Date(o),c=r.toLocaleString("default",{month:"long"})+" "+a(r.getDate());h.textContent=c,h.classList.add("todo-date");const v=document.createElement("div");v.classList.add("todo-edit"),v.onclick=function(t){const e=t.currentTarget.dataset.index;console.log("edit button aws ran"),l(e)},v.dataset.index=u;const x=document.createElement("img");x.src="../src/images/square-edit-outline.svg",v.appendChild(x),v.dataset.index=u;const f=document.createElement("div");f.classList.add("todo-delete");const C=document.createElement("img");C.src="../src/images/trash-can.svg",f.appendChild(C),f.dataset.index=u,f.onclick=function(t){const n=t.currentTarget.dataset.index;e.splice(n,1),localStorage.setItem("todoList",JSON.stringify(e)),window.location.reload()},"low"==m.priority?(h.style.color="#00e70b",E.style.border="1px solid #00e70b",E.style.color="#00e70b",y.style.borderLeft="8px solid #00e70b"):"medium"==m.priority?(h.style.color="orange",E.style.border="1px solid orange",E.style.color="orange",y.style.borderLeft="8px solid orange"):"high"==m.priority&&(h.style.color="#FE2A23",E.style.border="1px solid #FE2A23",E.style.color="#FE2A23",y.style.borderLeft="8px solid #FE2A23"),p.onclick=function(){m.done=!m.done,1==m.done?(p.style.background="url(../src/images/checkbox-marked.svg)",g.style.textDecoration="line-through",g.style.opacity="0.6",g.style.transition="opacity 250ms ease-in-out",b.style.opacity="0.6",b.style.transition="opacity 250ms ease-in-out",h.style.opacity="0.6",h.style.transition="opacity 250ms ease-in-out",v.style.opacity="0.6",v.style.transition="opacity 250ms ease-in-out",f.style.opacity="0.6",f.style.transition="opacity 250ms ease-in-out"):(p.style.background="url(../src/images/checkbox-blank-outline.svg)",g.style.textDecoration="none",g.style.opacity="1",g.style.transition="opacity 250ms ease-in-out",b.style.opacity="1",b.style.transition="opacity 250ms ease-in-out",h.style.opacity="1",h.style.transition="opacity 250ms ease-in-out",v.style.opacity="1",v.style.transition="opacity 250ms ease-in-out",f.style.opacity="1",f.style.transition="opacity 250ms ease-in-out")},y.appendChild(p),y.appendChild(g),y.appendChild(b),y.appendChild(h),y.appendChild(v),y.appendChild(f),t.appendChild(y),"today"==n&&!d(m)||"week"==n&&!s(m)?y.style.display="none":"home"==n&&(y.style.display="flex")}}function i(t){for(let n=0;n<e.length;n++)if(n==t){const t=document.getElementById("main");t.style.transition="filter 250ms ease-in-out",t.style.filter="blur(20px)";const o=e[n];document.getElementById("detailsModal").style.visibility="visible",document.getElementById("details-title-actual").textContent=o.title,document.getElementById("details-details-actual").textContent=o.detail,document.getElementById("details-date-actual").textContent=o.dueDate;const i=document.getElementById("details-priority-actual");i.textContent=o.priority;const l=document.getElementById("detailsModal-top");"low"==o.priority?(l.style.backgroundColor="#00e70b",i.style.color="#00e70b"):"medium"==o.priority?(l.style.backgroundColor="orange",i.style.color="orange"):"high"==o.priority&&(l.style.backgroundColor="#FE2A23",i.style.color="#FE2A23")}}function l(t){for(let n=0;n<e.length;n++)if(t==n){const t=e[n],i=document.getElementById("main");i.style.filter="blur(10px)",i.style.transition="filter 250ms ease-in-out",document.getElementById("editModal").style.visibility="visible";const l=document.getElementById("textarea-edit-title");l.placeholder=t.title;const d=document.getElementById("textarea-edit-details");d.placeholder=t.detail;const s=document.getElementById("edit-date-input");s.placeholder=t.dueDate,console.log(s),document.getElementById("editForm").addEventListener("submit",(function(n){n.preventDefault(),console.log(s.value),l.value&&(t.title=l.value),d.value&&(t.detail=d.value),s.value&&(t.dueDate=s.value),t.priority=document.getElementById("editPriority").value,i.style.filter="blur(0px)",document.getElementById("editModal").style.visibility="hidden",localStorage.setItem("todoList",JSON.stringify(e)),document.getElementsByClassName("current-project")[0].innerHTML="",o()}))}}function d(t){const e=new Date,n=new Date(t.dueDate);return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()}function s(t){const e=new Date,n=new Date(t.dueDate),o=new Date(e);o.setDate(e.getDate()-e.getDay()),o.setHours(0,0,0,0);const i=new Date(o);return i.setDate(o.getDate()+6),i.setHours(23,59,59,999),n>=o&&n<=i}function a(t){if(t>=11&&t<=13)return t+"th";switch(t%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd";default:return t+"th"}}!function(){const t=localStorage.getItem("todoList");t&&(e=JSON.parse(t));const o=localStorage.getItem("notesList");o&&(n=JSON.parse(o))}();let r=[],c=[],u=[];const m=document.getElementById("main");let y="todo";!function(){const t=localStorage.getItem("todoList");t&&(r=JSON.parse(t));const e=localStorage.getItem("notesList");e&&(c=JSON.parse(e))}(),document.getElementById("form").addEventListener("submit",(function(t){if(t.preventDefault(),"todo"==y){const t=!1,e=function(t,e,n,o,i){return console.log("Received parameters:",t,e,n,o,i),{title:t,detail:e,dueDate:n,priority:o,done:i}}(document.getElementById("textarea-title").value,document.getElementById("textarea-details").value,document.getElementById("modal-date").value,document.getElementById("priority").value,t);console.log(e),r.push(e),localStorage.setItem("todoList",JSON.stringify(r))}else if("note"==y){const t={title:document.getElementById("textarea-title").value,detail:document.getElementById("textarea-details").value};console.log(t),console.log(c),c.push(t),localStorage.setItem("notesList",JSON.stringify(c))}else if("project"==y){const t={title:document.getElementById("textarea-title").value};console.log(t),u.push(t),localStorage.setItem("projectsList",JSON.stringify(u))}m.style.filter="blur(0px)",document.getElementById("modal").style.visibility="visible"==document.getElementById("modal").style.visibility?"hidden":"visible",window.location.reload()})),o("home"),document.getElementById("createBtn").addEventListener("click",(()=>{const t=document.getElementById("main");t.style.transition="filter 250ms ease-in-out",t.style.filter="blur(20px)",document.getElementById("modal").style.visibility="visible"==document.getElementById("modal").style.visibility?"hidden":"visible"})),document.getElementById("Btntodo").addEventListener("click",(()=>{y="todo",function(){const t=document.getElementById("form"),e=document.getElementsByClassName("modal-current-project-todo")[0];e.innerHTML="";const n=document.createElement("textarea");n.setAttribute("name","title"),n.setAttribute("id","textarea-title"),n.setAttribute("cols","30"),n.setAttribute("rows","1"),n.setAttribute("placeholder","Title: Pay bills..."),n.setAttribute("required",""),e.appendChild(n);const o=document.createElement("textarea");o.setAttribute("name","details"),o.setAttribute("id","textarea-details"),o.setAttribute("cols","30"),o.setAttribute("rows","10"),o.setAttribute("placeholder","Details: e.g internet, gas..."),e.appendChild(o);const i=document.createElement("div");i.classList.add("dueDate");const l=document.createElement("p");l.textContent="Due Date: ";const d=document.createElement("input");d.setAttribute("type","date"),d.setAttribute("id","modal-date"),d.setAttribute("required",""),i.appendChild(l),i.appendChild(d),e.appendChild(i);const s=document.createElement("div");s.classList.add("priority");const a=document.createElement("label");a.setAttribute("for","priority"),a.textContent="Priority: ";const r=document.createElement("select");r.setAttribute("id","priority"),r.setAttribute("name","priority"),r.setAttribute("required","");const c=document.createElement("option");c.setAttribute("value","low"),c.textContent="Low";const u=document.createElement("option");u.setAttribute("value","medium"),u.textContent="Medium";const m=document.createElement("option");m.setAttribute("value","high"),m.textContent="High",r.appendChild(c),r.appendChild(u),r.appendChild(m);const y=document.createElement("button");y.classList.add("priorBtn"),y.setAttribute("id","add"),y.setAttribute("type","submit"),y.textContent="add to do",s.appendChild(a),s.appendChild(r),s.appendChild(y),e.appendChild(s),t.appendChild(e)}()})),document.getElementById("Btnproject").addEventListener("click",(()=>{y="project",function(){const t=document.getElementById("form"),e=document.getElementsByClassName("modal-current-project-todo")[0];e.innerHTML="";const n=document.createElement("textarea");n.setAttribute("name","title"),n.setAttribute("id","textarea-title"),n.setAttribute("cols","30"),n.setAttribute("rows","1"),n.setAttribute("placeholder","Title: Pay bills..."),n.setAttribute("required",""),e.appendChild(n);const o=document.createElement("button");o.classList.add("priorBtn"),o.setAttribute("id","add"),o.setAttribute("type","submit"),o.textContent="Create Note",e.appendChild(o),t.appendChild(e)}()})),document.getElementById("Btnnote").addEventListener("click",(()=>{y="note",function(){const t=document.getElementById("form"),e=document.getElementsByClassName("modal-current-project-todo")[0];e.innerHTML="";const n=document.createElement("textarea");n.setAttribute("name","title"),n.setAttribute("id","textarea-title"),n.setAttribute("cols","30"),n.setAttribute("rows","1"),n.setAttribute("placeholder","Title: Pay bills..."),n.setAttribute("required",""),e.appendChild(n);const o=document.createElement("textarea");o.setAttribute("name","details"),o.setAttribute("id","textarea-details"),o.setAttribute("cols","30"),o.setAttribute("rows","10"),o.setAttribute("placeholder","Details: e.g internet, gas..."),e.appendChild(o);const i=document.createElement("button");i.classList.add("priorBtn"),i.setAttribute("id","add"),i.setAttribute("type","submit"),i.textContent="Create Note",e.appendChild(i),t.appendChild(e)}()}));const p=document.getElementById("today");p.addEventListener("click",(function(){E(),p.style.border="1px solid #3A3A3A",o("today")}));const g=document.getElementById("home");g.addEventListener("click",(()=>{E(),g.style.border="1px solid #3A3A3A",o("home")}));const b=document.getElementById("week");function E(){p.style.border="none",g.style.border="none",b.style.border="none"}b.addEventListener("click",(()=>{E(),b.style.border="1px solid #3A3A3A",o("week")})),document.getElementById("notes").addEventListener("click",(()=>{!function(){t.innerHTML="";const e=document.createElement("div");e.id="biggerNotes";for(let t=0;t<n.length;t++){const o=n[t],i=document.createElement("div"),l=document.createElement("div");i.appendChild(l),l.id="deleteNoteBtn",l.dataset.index=t;const d=document.createElement("img");d.src="../src/images/trash-can.svg",l.appendChild(d),l.dataset.index=t,l.onclick=function(t){const e=t.currentTarget.dataset.index;n.splice(e,1),localStorage.setItem("notesList",JSON.stringify(n)),window.location.reload()};const s=document.createElement("p");s.textContent=o.title,s.style.fontWeight="bold";const a=document.createElement("p");a.textContent=o.detail,i.appendChild(s),i.appendChild(a),i.id="noteDiv",e.appendChild(i)}t.appendChild(e)}()})),document.getElementById("modal-top-close").addEventListener("click",(()=>{m.style.filter="blur(0px)",document.getElementById("modal").style.visibility="visible"==document.getElementById("modal").style.visibility?"hidden":"visible"})),document.getElementById("detailsModal-top-close").addEventListener("click",(()=>{m.style.filter="blur(0px)",document.getElementById("detailsModal").style.visibility="hidden"})),document.getElementById("editModal-top-close").addEventListener("click",(()=>{m.style.filter="blur(0px)",document.getElementById("editModal").style.visibility="hidden"}))})();